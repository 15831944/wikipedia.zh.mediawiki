{{NoteTA
|G1=IT
}}
'''域前置'''（{{lang-en|'''Domain fronting'''}}），又译为'''域名幌子'''<ref>{{cite web|title=APT29网络间谍使用“域名幌子”技术规避检测|url=http://www.aqniu.com/news-views/23898.html|website=安全牛|accessdate=2017-08-31}}</ref>，是一种隐藏连接真实端点来规避[[互联网审查|互联网审查]]的技术。在[[应用层|应用层]]上运作时，域前置使用户能通过[[超文本传输安全协议|HTTPS]]连接到被屏蔽的服务，而表面上像在与另一个完全不同的站点通信。<ref>{{Cite journal|title=Blocking-resistant communication through domain fronting|url=http://www.icir.org/vern/papers/meek-PETS-2015.pdf|last=Fifield|first=David|last2=Lan|first2=Chang|journal=Proceedings on Privacy Enhancing Technologies|issue=2|doi=10.1515/popets-2015-0009|year=2015|volume=2015|pages=46–64|issn=2299-0984|last3=Hynes|first3=Rod|last4=Wegmann|first4=Percy|last5=Paxson|first5=Vern|access-date=2017-01-03|via=De Gruyter}}</ref><ref>{{cite web|author1=MottoIN|title=模拟攻击者利用“域前置”（Domain Fronting）技术逃避审查|url=http://www.sohu.com/a/155351419_804262|website=搜狐|accessdate=2017-08-31|date=2017-07-07}}</ref>

此技术的原理为在不同通信层使用不同的[[域名|域名]]。在[[明文|明文]]的[[DNS|DNS]]请求和TLS[[服务器名称指示|服务器名称指示]]（SNI）中使用无害的域名来初始化连接、公布给审查者，而实际要连接的被封锁域名仅在建立加密的[[超文本传输安全协议|HTTPS]]连接后发出，使其不以明文暴露给网络审查者。<ref>{{Cite web|url=https://www.engadget.com/2016/12/21/signal-egypt-uae-censorship-block-domain-fronting/|title=Encrypted chat app Signal circumvents government censorship|accessdate=2017-01-04}}</ref><ref>{{Cite news|url=https://www.wired.com/2016/12/encryption-app-signal-fights-censorship-clever-workaround/|title=Encryption App ‘Signal’ Is Fighting Censorship With a Clever Workaround|last=Greenberg|first=Andy|newspaper=WIRED|accessdate=2017-01-04|language=en-US}}</ref><ref>{{Cite web|url=http://blog.attackzero.net/2015/11/domain-fronting-and-you.html?m=1|title=Domain Fronting and You|accessdate=2017-01-04}}</ref>

此技术利用审查者通常很难区分被伪装流量与合法流量的特点，迫使审查者选择放行所有看似无害的流量，或者选择彻底封锁此域的流量。而彻底封锁可能带来显著的附加损害。<ref>{{Cite web|url=https://trac.torproject.org/projects/tor/wiki/doc/meek|title=doc/meek – Tor Bug Tracker & Wiki|accessdate=2017-01-04}}</ref><ref>{{Cite web|url=https://whispersystems.org/blog/doodles-stickers-censorship/|title=Open Whisper Systems >> Blog >> Doodles, stickers, and censorship circumvention for Signal Android|accessdate=2017-01-04}}</ref>

这种举动在被封锁的站点与无害站点为同一个大型服务提供商时较为可行，例如由[[Google應用服務引擎|Google應用服務引擎]]（GAE）等提供的服务。<ref>{{Cite web|url=https://www.engadget.com/2016/12/21/signal-egypt-uae-censorship-block-domain-fronting/|title=Encrypted chat app Signal circumvents government censorship|website=Engadget|access-date=2017-01-04}}</ref><ref>{{Cite news|url=https://www.wired.com/2016/12/encryption-app-signal-fights-censorship-clever-workaround/|title=Encryption App ‘Signal’ Is Fighting Censorship With a Clever Workaround|last=Greenberg|first=Andy|newspaper=WIRED|language=en-US|access-date=2017-01-04}}</ref><ref>{{Cite web|url=http://blog.attackzero.net/2015/11/domain-fronting-and-you.html?m=1|title=Domain Fronting and You|website=blog.attackzero.net|access-date=2017-01-04}}</ref>

==禁用==
[[Google|Google]]于2018年4月宣布将禁用域前置，称这从未是Google有意支持的一项功能。<ref>{{Cite news|url=https://www.theverge.com/2018/4/18/17253784/google-domain-fronting-discontinued-signal-tor-vpn|title=A Google update just created a big problem for anti-censorship tools|last=Brandom|first=Russell|website=The Verge|language=en-US|access-date=2018-04-19}}</ref><ref>{{cite web|title=Google 关闭域前置，影响反审查工具|url=https://www.solidot.org/story?sid=56211|website=Solidot|accessdate=2018-04-22|date=2018-04-19}}</ref>[[亞馬遜公司|亞馬遜公司]]也在不久后决定停用[[CloudFront|CloudFront]]上的域前置支持，表示这已被视为违反[[亞馬遜網路服務系統|亞馬遜網路服務系統]]（AWS）服务条款。<ref>{{Cite web|url=https://aws.amazon.com/blogs/security/enhanced-domain-protections-for-amazon-cloudfront-requests/|title=Enhanced Domain Protections for Amazon CloudFront Requests|last=|first=|date=|website=|archive-url=|archive-date=|dead-url=|access-date=}}</ref><ref>https://signal.org/blog/looking-back-on-the-front/</ref><ref>https://www.theverge.com/2018/4/30/17304782/amazon-domain-fronting-google-discontinued</ref><ref>[https://www.techrepublic.com/article/as-google-and-aws-kill-domain-fronting-users-must-find-a-new-way-to-fight-censorship/ As Google and AWS kill domain fronting, users must find a new way to fight censorship - TechRepublic]</ref><ref>[https://bsodsoftware.com/2018/05/amazon-closes-anti-censorship-loophole-on-its-servers/ Amazon closes anti-censorship loophole on its servers - BSOD Software News]</ref>有报道认为，Google和亚马逊做此决定的部分原因是来自[[俄羅斯聯邦政府|俄罗斯政府]]的压力，因[[Telegram|Telegram]]在当地使用这两家云服务提供商进行域前置活动。<ref>{{Cite news|url=https://www.fastcompany.com/40568177/amazon-and-google-bow-to-russian-censors-in-telegram-battle|title=Amazon and Google bow to Russian censors in Telegram battle|date=2018-05-04|work=Fast Company|access-date=2018-05-09|language=en-US}}</ref>

[[Tor|Tor]]早前也使用Google和亚马逊的云服务进行域前置以保护用户活动，在两者相继关闭域前置功能后，Tor将域前置服务转移到尚未决定关闭该功能的[[Microsoft_Azure|Microsoft Azure]]服务<ref name=cyberscoop>{{cite web |title=Domain fronting has a dwindling future |url=https://www.cyberscoop.com/domain-fronting-future-amazon-google-microsoft-cloudflare-tor-signal/ |website=cyberscoop |publisher=Scoop News Group |accessdate=2018-08-29 |date=2018-07-24}}</ref>，但尚不知微软会继续为服务提供提供该功能多久<ref>[https://blog.torproject.org/domain-fronting-critical-open-web Domain Fronting Is Critical to the Open Web | Tor Blog]</ref>，微软公司没有回应CyberScoop提出的置评请求{{R|cyberscoop}}。

虽然域前置技术可以帮助用户绕过互联网审查，但[[黑客|黑客]]组织和[[恶意软件|恶意软件]]也会使用该技术。[[FireEye|FireEye]]曾报道称，与俄罗斯相关的黑客组织APT29使用该技术从目标网络中窃取数据。Cyber​​Ark等公司则详细介绍了恶意软件如何利用该技术控制[[僵尸网络|僵尸网络]]。[[賽風|賽風]]（Psiphon）总裁迈克尔·赫尔（Michael Hull）告诉媒体Cyber​​Scoop，他公司的产品从未依赖域前置技术，并将这种做法描述为“快速解决一个困难的问题”、“在该领域不是很有效”，并认为结合混淆、[[HTTP标头|HTTP标头]]修改、传输碎片化等一系列复杂技术的多元化审查规避工具包的重要性不容小视，并补充道：“域前置正在击溃[[内容分发网络|内容分发网络]]的设计，这也是亚马逊和谷歌禁止该技术的原因。”Tor发言人Whited则不太同情两公司的决定，并指责这两家公司作出了轻率的决定，终结了世界的各地[[记者|记者]]和[[活动家|活动家]]的一种非常重要的通信手段。{{R|cyberscoop}}

在2018年7月左右的[[互联网工程任务组|互联网工程任务组]]（IETF）会议上，[[苹果公司|苹果公司]]、[[Cloudflare|Cloudflare]]和[[Mozilla|Mozilla]]的工程师在一项名为“加密[[服务器名称指示|服务器名称指示]]（ESNI）”的新协议上取得了进展，该协议将能解决TLS SNI暴露给窃听者的问题。但是，该协议的定稿和部署可能仍需数年。{{R|cyberscoop}}

== 参见 ==
* [[Telex|Telex]]
* {{le|抵押自由|Collateral freedom}}（也称“依附的自由”、“依附自由”）

== 参考资料 ==
{{Reflist|2}}

[[Category:電腦安全|Category:電腦安全]]
[[Category:互联网审查|Category:互联网审查]]
[[Category:保密通信|Category:保密通信]]